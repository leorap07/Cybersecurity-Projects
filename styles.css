:root{
  --glass-bg: rgba(255, 255, 255, 0.08);
  --glass-border: rgba(255, 255, 255, 0.22);
  --panel-bg: rgba(18, 21, 27, 0.72);
  --card-bg: rgba(255, 255, 255, 0.04);
  --text: #EAEAF2;
  --muted: #B8C0CF;
  --accent: #5EA0FF;     /* blue */
  --danger: #ff3b30;     /* red */
}

*{ box-sizing: border-box; }
html, body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Helvetica Neue", Poppins, Arial, sans-serif;
  color: var(--text);
  background:
    radial-gradient(1200px 700px at 20% -10%, #2A2F3A 0%, #0F1217 60%),
    radial-gradient(1000px 600px at 120% 20%, #1B2130 0%, #0A0C10 60%),
    #0C0F14;
  background-attachment: fixed;
}

/* Header */
.top-header{
  position: sticky; top: 0; z-index: 1000;
  display: flex; align-items: center; justify-content: flex-end; gap: 12px;
  padding: 14px 18px;
  -webkit-backdrop-filter: saturate(150%) blur(14px);
  backdrop-filter: saturate(150%) blur(14px);
  background: var(--panel-bg);
  border-bottom: 1px solid rgba(255,255,255,0.06);
}
.brand{ display:flex; align-items:center; gap:10px; }
.brand-centered{ position:absolute; left:50%; transform: translateX(-50%); }
.top-header h1{ margin:0; font-weight:700; letter-spacing:.3px; font-size:24px; }

.la-badge{ position:relative; width:26px; height:26px; display:inline-block; }
.la-badge .la-l, .la-badge .la-a{
  position:absolute; color:#fff; font-weight:900; line-height:1;
  font-size:20px; letter-spacing:1px; text-shadow:0 1px 2px rgba(0,0,0,.5);
}
.la-badge .la-l{ left:0; top:2px; }
.la-badge .la-a{ left:8px; top:8px; transform:skewX(-8deg); }

.top-controls{ display:flex; align-items:center; gap:12px; }

/* Font slider */
.font-slider{
  display:flex; align-items:center; gap:8px;
  padding:6px 10px; border-radius:999px;
  background: var(--glass-bg); border:1px solid var(--glass-border);
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
}
.font-label{ font-size:12px; text-transform:lowercase; letter-spacing:.6px; opacity:.85; -webkit-user-select:none; user-select:none; }

.triangle-slider{ position:relative; width:140px; height:16px; }

/* Mountainside track */
.triangle-track{
  position:absolute; inset:0; pointer-events:none; border-radius:8px;
  background: linear-gradient(135deg, rgba(94,160,255,.65), rgba(94,160,255,.25));
  clip-path: polygon(0% 100%, 100% 0%, 100% 100%);
}
.triangle-track::before,
.triangle-track::after{
  content:""; position:absolute; inset:0; pointer-events:none;
}
.triangle-track::before{
  clip-path: polygon(0% 100%, 60% 55%, 100% 45%, 100% 100%);
  background: linear-gradient(135deg, rgba(94,160,255,.9), rgba(94,160,255,.35));
  opacity:.9;
}
.triangle-track::after{
  clip-path: polygon(0% 100%, 35% 70%, 75% 52%, 100% 46%, 100% 100%);
  background: linear-gradient(135deg, rgba(178,208,255,.85), rgba(94,160,255,.35));
  filter: blur(.3px); opacity:.85;
}

.triangle-slider input[type="range"]{
  -webkit-appearance:none;
  appearance: none;
  position:absolute; inset:0;
  width:100%; height:16px; background:transparent;
}
.triangle-slider input[type="range"]::-webkit-slider-runnable-track{ height:16px; background:transparent; }
.triangle-slider input[type="range"]::-moz-range-track{ height:16px; background:transparent; }
.triangle-slider input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none; width:24px; height:24px; border-radius:50%;
  background:transparent; border:none; margin-top:-4px;
}
.triangle-slider input[type="range"]::-moz-range-thumb{
  width:24px; height:24px; border-radius:50%; background:transparent; border:none;
}

/* Custom thumb that shows the number */
.slider-thumb-ghost{
  position:absolute; top:50%;
  transform: translate(-50%, -50%);
  width:24px; height:24px; border-radius:50%;
  background:#fff; color:#000; font-size:10px; font-weight:700;
  display:grid; place-items:center;
  border:1px solid rgba(0,0,0,.18);
  box-shadow: 0 2px 10px rgba(0,0,0,.35);
  pointer-events:none;
}

/* Buttons */
button{ cursor:pointer; color:var(--text); font-weight:600; letter-spacing:.2px; }
.pill{ border-radius:999px; padding:10px 18px; }
.glass{
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
  transition: transform .08s ease, background .2s ease, border .2s ease, box-shadow .2s ease;
  box-shadow: 0 6px 18px rgba(0,0,0,.18) inset, 0 2px 10px rgba(0,0,0,.25);
}
/* Red hover glow for all buttons... */
.glass:hover{
  background: rgba(255,255,255,0.12);
  border-color: rgba(255,59,48,0.65);
  box-shadow: 0 0 0 1px rgba(255,59,48,0.5) inset, 0 0 18px 4px rgba(255,59,48,0.45);
}
/* ...BUT Copy buttons go blue on hover */
.glass.copy:hover{
  border-color: rgba(94,160,255,.9);
  box-shadow: 0 0 0 1px rgba(94,160,255,.6) inset, 0 0 18px 4px rgba(94,160,255,.55);
}
.glass:active{ transform: scale(.98); }

/* Layout */
.main-wrapper{ display:flex; gap:18px; padding:18px; min-height: calc(100vh - 66px); }
#mainSection, #mergeSection{ flex:1 1 0; min-width:0; display:flex; flex-direction:column; gap:8px; }

.container{
  background: var(--card-bg);
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 20px;
  padding: 18px;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
}
.container h2{ margin:4px 0 10px 0; font-weight:700; text-align:center; }

.textarea-container{ display:flex; flex-direction:column; align-items:center; gap:10px; }
textarea.logbox{
  width:100%;
  height: clamp(260px, 32vh, 46vh);
  background: rgba(9, 12, 16, 0.55);
  color: var(--text);
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 16px;
  padding: 16px;
  resize: none; outline: none;
  box-shadow: 0 1px 0 rgba(255,255,255,0.06) inset, 0 8px 22px rgba(0,0,0,.35);
}
textarea.logbox::placeholder{ color: rgba(200,210,225,0.6); }

.button-row{ display:flex; flex-wrap:wrap; gap:12px; justify-content:center; }
.merge-toolbar{ display:flex; gap:10px; justify-content:center; margin:2px 0 0 0; }

/* Flash animations */
@keyframes flashRed {
  0%   { border-color: rgba(255,59,48,.9); box-shadow: 0 0 10px 2px rgba(255,59,48,.6); }
  50%  { border-color: rgba(255,59,48,.4); box-shadow: 0 0 6px 1px rgba(255,59,48,.35); }
  100% { border-color: rgba(255,255,255,.12); box-shadow: 0 1px 0 rgba(255,255,255,0.06) inset, 0 8px 22px rgba(0,0,0,.35); }
}
@keyframes flashBlue {
  0%   { border-color: rgba(94,160,255,.95); box-shadow: 0 0 10px 2px rgba(94,160,255,.65); }
  50%  { border-color: rgba(94,160,255,.5);  box-shadow: 0 0 6px 1px rgba(94,160,255,.4); }
  100% { border-color: rgba(255,255,255,.12); box-shadow: 0 1px 0 rgba(255,255,255,0.06) inset, 0 8px 22px rgba(0,0,0,.35); }
}
.logbox.flash-red{  animation: flashRed 1s ease; }
.logbox.flash-blue{ animation: flashBlue 1s ease; }

/* History panel */
.history-panel{
  position: fixed; right: -420px; top: 66px;
  width: 400px; height: calc(100% - 66px);
  background: rgba(18, 21, 27, 0.92);
  border-left: 1px solid rgba(255,255,255,0.10);
  -webkit-backdrop-filter: blur(14px);
  backdrop-filter: blur(14px);
  box-shadow: -10px 0 30px rgba(0,0,0,.45);
  padding: 16px; transition: right .25s ease; z-index: 1200;
}
.history-panel.open{ right:0; }
.close-history{
  position:absolute; left:12px; top:12px; width:14px; height:14px; border-radius:50%;
  border:1px solid rgba(0,0,0,0.25); background:#ff5f57; cursor:pointer; padding:0;
  box-shadow:0 .5px 0 rgba(0,0,0,0.2) inset;
}
.close-history:hover::after{
  content:'Ã—'; position:absolute; inset:0; display:grid; place-items:center;
  color:#fff; font-weight:700; font-size:12px;
}
.history-panel h2{ margin:0 0 12px 0; text-align:center; color:var(--muted); }
.history-box{
  width:100%; height: calc(100% - 44px);
  background: rgba(0,0,0,0.35); border: 1px solid rgba(255,255,255,0.10);
  border-radius: 14px; padding: 14px; overflow-y:auto; white-space: pre-wrap;
}

@media (max-width: 980px){
  .main-wrapper{ flex-direction: column; }
  .history-panel{ width: 86vw; }
  .triangle-slider{ width: 120px; }
}
